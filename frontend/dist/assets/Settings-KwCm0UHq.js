import{f as b,r,j as e}from"./main-D3qaoigP.js";const N=()=>{const{systemInfo:t,loading:f,error:i,updatePanelName:y}=b(),[a,c]=r.useState(""),[m,n]=r.useState(!1),[x,o]=r.useState(null),[u,g]=r.useState(null);r.useEffect(()=>{t&&t.name&&c(t.name)},[t]);const h=async d=>{d.preventDefault(),n(!0),o(null),g(null);const p=localStorage.getItem("token");if(!p){o("Authentication token not found. Please log in again."),n(!1);return}if(!a.trim()){o("Panel name cannot be empty."),n(!1);return}try{const s=await fetch("/api/system/settings",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${p}`},body:JSON.stringify({panel_name:a})});if(!s.ok){const l=await s.json();throw new Error(l.error||`Error: ${s.status}`)}y(a),g("Panel name updated successfully!")}catch(s){const l=s instanceof Error?s.message:"An unknown error occurred.";o(`Failed to update panel name: ${l}`)}finally{n(!1)}};return f?e.jsx("div",{className:"p-6 flex items-center justify-center h-64",children:e.jsx("p",{className:"text-gray-500 text-sm",children:"Loading settings..."})}):i?e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md",children:["Error loading system information: ",i]})}):e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center space-x-3",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"Settings"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Manage settings for your panel."})]})}),x&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-md text-xs",children:x}),u&&e.jsx("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-md text-xs",children:u}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-md shadow-xs",children:e.jsxs("form",{onSubmit:h,children:[e.jsx("div",{className:"p-6 space-y-4",children:e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{htmlFor:"panelName",className:"block text-xs font-medium text-gray-700",children:"Panel Name"}),e.jsx("input",{type:"text",id:"panelName",value:a,onChange:d=>c(d.target.value),className:"block w-full max-w-md px-3 py-2 text-xs border border-gray-200 rounded-md focus:outline-none focus:border-gray-400",placeholder:"Your Panel Name",disabled:m}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This name will be displayed throughout the panel."})]})}),e.jsx("div",{className:"px-6 py-3 bg-gray-50 border-t border-gray-200 flex justify-end",children:e.jsx("button",{type:"submit",className:"px-4 py-2 text-xs font-medium text-white bg-gray-900 rounded-md hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-900 disabled:opacity-50",children:m?"Saving...":"Save Settings"})})]})})]})})})};export{N as default};
