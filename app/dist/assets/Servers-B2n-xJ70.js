import{r as n,j as e,L as oe,P as ce,b as xe,c as me}from"./main-B1FWiW_Q.js";import{A as J}from"./AdminBar-DckmZ1Fd.js";import{C as ue}from"./chevron-right-BGfmBojJ.js";import{A as D}from"./arrow-left-CnW3K88D.js";const be=()=>{const[k,V]=n.useState([]),[I,H]=n.useState([]),[F,W]=n.useState([]),[A,Y]=n.useState([]),[U,R]=n.useState([]),[G,q]=n.useState(!0),[L,C]=n.useState(null),[y,x]=n.useState("list"),[a,p]=n.useState(null),[m,S]=n.useState("nodes"),[K,$]=n.useState(!1),[o,B]=n.useState({name:"",nodeId:"",unitId:"",userId:"",allocationId:"",memoryMiB:1024,diskMiB:10240,cpuPercent:100}),[i,b]=n.useState({name:"",unitId:"",memoryMiB:0,diskMiB:0,cpuPercent:0}),[j,g]=n.useState(null),[M,Q]=n.useState(""),[f,O]=n.useState(""),[X,Z]=n.useState([]),[T,_]=n.useState([]),[P,E]=n.useState(!1);n.useEffect(()=>{v()},[]),n.useEffect(()=>{y==="create"&&ee()},[y]),n.useEffect(()=>{const t=A.filter(r=>r.username.toLowerCase().includes(M.toLowerCase()));Z(t)},[M,A]),n.useEffect(()=>{const t=F.filter(r=>r.name.toLowerCase().includes(f.toLowerCase())||r.shortName.toLowerCase().includes(f.toLowerCase()));_(t)},[f,F]);const ee=async()=>{$(!0);try{const t=localStorage.getItem("token"),r=await fetch("/api/regions",{headers:{Authorization:`Bearer ${t}`}});if(!r.ok)throw new Error("Failed to fetch regions");const d=await r.json();R(d)}catch(t){console.error("Failed to fetch regions:",t),S("nodes")}finally{$(!1)}},v=async()=>{try{q(!0);const r={Authorization:`Bearer ${localStorage.getItem("token")}`},[d,l,s,c,h]=await Promise.all([fetch("/api/servers?include[node]=true&include[unit]=true&include[user]=true",{headers:r}),fetch("/api/nodes",{headers:r}),fetch("/api/units",{headers:r}),fetch("/api/users",{headers:r}),fetch("/api/regions",{headers:r})]);if(!d.ok)throw new Error("Failed to fetch servers");if(!l.ok)throw new Error("Failed to fetch nodes");if(!s.ok)throw new Error("Failed to fetch units");if(!c.ok)throw new Error("Failed to fetch users");const[N,w,de,le]=await Promise.all([d.json(),l.json(),s.json(),c.json()]);let z=[];h.ok&&(z=await h.json(),R(z)),V(N),H(w),W(de),Y(le),C(null)}catch(t){C(t instanceof Error?t.message:"An error occurred")}finally{q(!1)}},se=async t=>{t.preventDefault(),g(null);try{const r={...o};!!r.regionId&&(delete r.nodeId,delete r.allocationId);const l=localStorage.getItem("token"),s=await fetch("/api/servers",{method:"POST",headers:{Authorization:`Bearer ${l}`,"Content-Type":"application/json"},body:JSON.stringify(r)});if(!s.ok){const c=await s.json();throw new Error(c.error||"Failed to create server")}await v(),x("list"),B({name:"",nodeId:"",unitId:"",userId:"",allocationId:"",memoryMiB:1024,diskMiB:10240,cpuPercent:100,regionId:""})}catch(r){g(r instanceof Error?r.message:"Failed to create server")}},te=async t=>{if(t.preventDefault(),!!a){g(null),E(!0);try{const r={};if(i.name!==a.name&&(r.name=i.name),i.unitId!==a.unitId&&(r.unitId=i.unitId),i.memoryMiB!==a.memoryMiB&&(r.memoryMiB=i.memoryMiB),i.diskMiB!==a.diskMiB&&(r.diskMiB=i.diskMiB),i.cpuPercent!==a.cpuPercent&&(r.cpuPercent=i.cpuPercent),Object.keys(r).length===0){x("view"),E(!1);return}const d=localStorage.getItem("token"),l=await fetch(`/api/servers/${a.id}`,{method:"PATCH",headers:{Authorization:`Bearer ${d}`,"Content-Type":"application/json"},body:JSON.stringify(r)});if(!l.ok){const c=await l.json();throw new Error(c.error||"Failed to update server")}await v();const s=k.find(c=>c.id===a.id);s&&p(s),x("view")}catch(r){g(r instanceof Error?r.message:"Failed to update server")}finally{E(!1)}}},re=async t=>{try{const r=localStorage.getItem("token"),d=await fetch(`/api/servers/${t}`,{method:"DELETE",headers:{Authorization:`Bearer ${r}`}});if(!d.ok){const l=await d.json();throw new Error(l.error||"Failed to delete server")}await v(),(a==null?void 0:a.id)===t&&(x("list"),p(null))}catch(r){C(r instanceof Error?r.message:"Failed to delete server")}},u=t=>{B(r=>({...r,...t}))},ae=()=>{var t,r,d,l;return e.jsxs("form",{onSubmit:se,className:"space-y-4 max-w-lg",children:[j&&e.jsx("div",{className:"bg-red-50 border border-red-100 rounded-md p-3",children:e.jsx("p",{className:"text-xs text-red-600",children:j})}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Name"}),e.jsx("input",{type:"text",value:o.name,onChange:s=>u({name:s.target.value}),className:"block w-full px-3 py-2 text-xs border border-gray-200 rounded-md focus:outline-none focus:border-gray-400",placeholder:"my-server",required:!0})]}),e.jsx("div",{className:"border-b border-gray-200 mb-2",children:e.jsxs("div",{className:"flex",children:[e.jsxs("button",{type:"button",onClick:()=>S("nodes"),className:`pb-2 text-xs font-medium relative ${m==="nodes"?"text-gray-800 border-indigo-600":"text-gray-500 hover:text-gray-700"}`,children:["Specific Node",m==="nodes"&&e.jsx("div",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-indigo-600"})]}),e.jsxs("button",{type:"button",onClick:()=>S("regions"),className:`pb-2 ml-6 text-xs font-medium relative ${m==="regions"?"text-gray-800 border-indigo-600":"text-gray-500 hover:text-gray-700"}`,children:["Region (Load Balanced)",m==="regions"&&e.jsx("div",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-indigo-600"})]})]})}),m==="nodes"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Node"}),e.jsxs("select",{value:o.nodeId||"",onChange:s=>u({nodeId:s.target.value,regionId:"",allocationId:""}),className:"block w-full px-3 py-2 text-xs border border-gray-200 rounded-md focus:outline-none focus:border-gray-400",required:m==="nodes",children:[e.jsx("option",{value:"",children:"Select a node"}),I.map(s=>e.jsxs("option",{value:s.id,disabled:!s.isOnline,children:[s.name," (",s.fqdn,") ",!s.isOnline&&"- Offline"]},s.id))]})]}),o.nodeId&&e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Port Allocation"}),e.jsxs("select",{value:o.allocationId||"",onChange:s=>u({allocationId:s.target.value}),className:"block w-full px-3 py-2 text-xs border border-gray-200 rounded-md focus:outline-none focus:border-gray-400",required:m==="nodes",children:[e.jsx("option",{value:"",children:"Select a port allocation"}),(r=(t=I.find(s=>s.id===o.nodeId))==null?void 0:t.allocations)==null?void 0:r.filter(s=>!s.assigned).map(s=>e.jsxs("option",{value:s.id,children:[s.bindAddress,":",s.port,s.alias&&` (${s.alias})`]},s.id))]}),((l=(d=I.find(s=>s.id===o.nodeId))==null?void 0:d.allocations)==null?void 0:l.filter(s=>!s.assigned).length)===0&&e.jsx("p",{className:"text-xs text-red-500 mt-1",children:"No available allocations on this node. Please select a different node or create allocations."})]})]}):e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Region"}),K?e.jsxs("div",{className:"flex items-center space-x-2 py-2",children:[e.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-gray-500 rounded-full border-t-transparent"}),e.jsx("span",{className:"text-xs text-gray-500",children:"Loading regions..."})]}):e.jsxs(e.Fragment,{children:[e.jsxs("select",{value:o.regionId||"",onChange:s=>u({regionId:s.target.value,nodeId:"",allocationId:""}),className:"block w-full px-3 py-2 text-xs border border-gray-200 rounded-md focus:outline-none focus:border-gray-400",required:m==="regions",children:[e.jsx("option",{value:"",children:"Select a region"}),U.map(s=>{var c,h,N,w;return e.jsxs("option",{value:s.id,disabled:((c=s.stats)==null?void 0:c.onlineNodeCount)===0||((h=s.stats)==null?void 0:h.atCapacity),children:[s.name,((N=s.stats)==null?void 0:N.onlineNodeCount)===0?" (No online nodes)":"",(w=s.stats)!=null&&w.atCapacity?" (At capacity)":""]},s.id)})]}),U.length===0&&e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"No regions configured. Please create a region first or select a specific node."}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Argon will automatically select the best node in this region"})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Unit"}),e.jsx("input",{type:"text",value:f,onChange:s=>O(s.target.value),className:"block w-full px-3 py-2 text-xs border border-gray-200 rounded-md focus:outline-none focus:border-gray-400 mb-2",placeholder:"Search units..."}),e.jsxs("select",{value:o.unitId,onChange:s=>u({unitId:s.target.value}),className:"block w-full px-3 py-2 text-xs border border-gray-200 rounded-md focus:outline-none focus:border-gray-400",required:!0,children:[e.jsx("option",{value:"",children:"Select a unit"}),T.map(s=>e.jsxs("option",{value:s.id,children:[s.name," (",s.shortName,")"]},s.id))]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"User"}),e.jsx("input",{type:"text",value:M,onChange:s=>Q(s.target.value),className:"block w-full px-3 py-2 text-xs border border-gray-200 rounded-md focus:outline-none focus:border-gray-400 mb-2",placeholder:"Search users..."}),e.jsxs("select",{value:o.userId,onChange:s=>u({userId:s.target.value}),className:"block w-full px-3 py-2 text-xs border border-gray-200 rounded-md focus:outline-none focus:border-gray-400",required:!0,children:[e.jsx("option",{value:"",children:"Select a user"}),X.map(s=>e.jsx("option",{value:s.id,children:s.username},s.id))]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Memory (MiB)"}),e.jsx("input",{type:"number",value:o.memoryMiB,onChange:s=>u({memoryMiB:parseInt(s.target.value)}),className:"block w-full px-3 py-2 text-xs border border-gray-200 rounded-md focus:outline-none focus:border-gray-400",min:128,required:!0})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Disk (MiB)"}),e.jsx("input",{type:"number",value:o.diskMiB,onChange:s=>u({diskMiB:parseInt(s.target.value)}),className:"block w-full px-3 py-2 text-xs border border-gray-200 rounded-md focus:outline-none focus:border-gray-400",min:1024,required:!0})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"CPU (%)"}),e.jsx("input",{type:"number",value:o.cpuPercent,onChange:s=>u({cpuPercent:parseInt(s.target.value)}),className:"block w-full px-3 py-2 text-xs border border-gray-200 rounded-md focus:outline-none focus:border-gray-400",min:25,max:400,required:!0})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{type:"submit",className:"px-3 py-2 text-xs font-medium text-white bg-gray-900 rounded-md hover:bg-gray-800",disabled:m==="nodes"&&(!o.nodeId||!o.allocationId)||m==="regions"&&!o.regionId,children:"Create Server"}),e.jsx("button",{type:"button",onClick:()=>{x("list"),p(null),B({name:"",nodeId:"",unitId:"",userId:"",allocationId:"",memoryMiB:1024,diskMiB:10240,cpuPercent:100,regionId:""})},className:"px-3 py-2 text-xs font-medium text-gray-600 bg-white border border-gray-200 rounded-md hover:bg-gray-50",children:"Cancel"})]})]})},ne=()=>a?e.jsxs("form",{onSubmit:te,className:"space-y-4 max-w-lg",children:[j&&e.jsx("div",{className:"bg-red-50 border border-red-100 rounded-md p-3",children:e.jsx("p",{className:"text-xs text-red-600",children:j})}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Name"}),e.jsx("input",{type:"text",value:i.name,onChange:t=>b({...i,name:t.target.value}),className:"block w-full px-3 py-2 text-xs border border-gray-200 rounded-md focus:outline-none focus:border-gray-400",placeholder:"my-server",required:!0})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Unit"}),e.jsx("input",{type:"text",value:f,onChange:t=>O(t.target.value),className:"block w-full px-3 py-2 text-xs border border-gray-200 rounded-md focus:outline-none focus:border-gray-400 mb-2",placeholder:"Search units..."}),e.jsx("select",{value:i.unitId,onChange:t=>b({...i,unitId:t.target.value}),className:"block w-full px-3 py-2 text-xs border border-gray-200 rounded-md focus:outline-none focus:border-gray-400",required:!0,children:T.map(t=>e.jsxs("option",{value:t.id,children:[t.name," (",t.shortName,")"]},t.id))}),i.unitId!==a.unitId&&e.jsx("p",{className:"mt-2 text-yellow-600 text-xs",children:"Warning: Changing the unit will reinstall the server with the new image. Your server data will be preserved, but the environment will change."})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Memory (MiB)"}),e.jsx("input",{type:"number",value:i.memoryMiB,onChange:t=>b({...i,memoryMiB:parseInt(t.target.value)}),className:"block w-full px-3 py-2 text-xs border border-gray-200 rounded-md focus:outline-none focus:border-gray-400",min:128,required:!0})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Disk (MiB)"}),e.jsx("input",{type:"number",value:i.diskMiB,onChange:t=>b({...i,diskMiB:parseInt(t.target.value)}),className:"block w-full px-3 py-2 text-xs border border-gray-200 rounded-md focus:outline-none focus:border-gray-400",min:1024,required:!0})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"CPU (%)"}),e.jsx("input",{type:"number",value:i.cpuPercent,onChange:t=>b({...i,cpuPercent:parseInt(t.target.value)}),className:"block w-full px-3 py-2 text-xs border border-gray-200 rounded-md focus:outline-none focus:border-gray-400",min:25,max:400,required:!0})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{type:"submit",disabled:P,className:"px-3 py-2 text-xs font-medium text-white bg-gray-900 rounded-md hover:bg-gray-800 disabled:bg-gray-400",children:P?"Updating...":"Update Server"}),e.jsx("button",{type:"button",disabled:P,onClick:()=>{x("view"),g(null)},className:"px-3 py-2 text-xs font-medium text-gray-600 bg-white border border-gray-200 rounded-md hover:bg-gray-50 disabled:bg-gray-100",children:"Cancel"})]})]}):null,ie=()=>{var r,d,l,s,c,h;if(!a)return null;const t=(r=a.node)==null?void 0:r.region;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{onClick:()=>{x("list"),p(null)},className:"flex items-center text-gray-600 hover:bg-gray-100 p-2 cursor-pointer rounded-md transition hover:text-gray-900",children:e.jsx(D,{className:"w-4 h-4"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:a.name}),e.jsx("p",{className:"text-xs text-gray-500",children:a.internalId})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{onClick:()=>{b({name:a.name,unitId:a.unitId,memoryMiB:a.memoryMiB,diskMiB:a.diskMiB,cpuPercent:a.cpuPercent}),g(null),x("edit")},className:"flex items-center px-3 py-2 text-xs font-medium text-gray-600 bg-white border border-gray-200 rounded-md hover:bg-gray-50",children:[e.jsx(xe,{className:"w-3.5 h-3.5 mr-1.5"}),"Edit"]}),e.jsxs("button",{onClick:()=>re(a.id),className:"flex items-center px-3 py-2 text-xs font-medium text-red-600 bg-white border border-gray-200 rounded-md hover:bg-red-50",children:[e.jsx(me,{className:"w-3.5 h-3.5 mr-1.5"}),"Delete"]})]})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-md shadow-xs",children:e.jsx("div",{className:"px-6 py-4",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Server ID"}),e.jsx("div",{className:"text-sm font-mono mt-1",children:a.id})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Name"}),e.jsx("div",{className:"text-sm mt-1",children:a.name})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Internal ID"}),e.jsx("div",{className:"text-sm mt-1",children:a.internalId})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Current State"}),e.jsx("div",{className:"text-sm mt-1",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${a.state==="running"?"bg-green-100 text-green-800":a.state==="updating"?"bg-yellow-100 text-yellow-800":a.state==="stopping"?"bg-orange-100 text-orange-800":a.state==="starting"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:a.state})})]}),e.jsxs("div",{className:"pt-4 border-t border-gray-100",children:[e.jsx("div",{className:"text-xs font-medium text-gray-900 mb-3",children:"Resources"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Memory"}),e.jsxs("div",{className:"text-sm mt-1",children:[a.memoryMiB," MiB"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Disk"}),e.jsxs("div",{className:"text-sm mt-1",children:[a.diskMiB," MiB"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-500",children:"CPU"}),e.jsxs("div",{className:"text-sm mt-1",children:[a.cpuPercent,"%"]})]})]})]}),e.jsxs("div",{className:"pt-4 border-t border-gray-100",children:[e.jsx("div",{className:"text-xs font-medium text-gray-900 mb-3",children:"Relationships"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Node"}),e.jsxs("div",{className:"text-sm mt-1",children:[(d=a.node)==null?void 0:d.name," (",(l=a.node)==null?void 0:l.fqdn,")"]})]}),t&&e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Region"}),e.jsxs("div",{className:"text-sm mt-1",children:[t.name," (",t.identifier,")"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Unit"}),e.jsxs("div",{className:"text-sm mt-1",children:[(s=a.unit)==null?void 0:s.name," (",(c=a.unit)==null?void 0:c.shortName,")"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-500",children:"User"}),e.jsx("div",{className:"text-sm mt-1",children:(h=a.user)==null?void 0:h.username})]})]})]}),e.jsxs("div",{className:"pt-4 border-t border-gray-100",children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Created At"}),e.jsx("div",{className:"text-sm mt-1",children:new Date(a.createdAt).toLocaleString()})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Updated At"}),e.jsx("div",{className:"text-sm mt-1",children:new Date(a.updatedAt).toLocaleString()})]})]})})})]})};return G?e.jsx(oe,{}):L?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(J,{}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"text-red-600 text-xs",children:["Error: ",L]})})]}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(J,{}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"transition-all duration-200 ease-in-out",children:[y==="list"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"Servers"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Manage all servers running on your nodes."})]}),e.jsxs("button",{onClick:()=>x("create"),className:"flex items-center px-3 py-2 text-xs font-medium text-white bg-gray-900 rounded-md hover:bg-gray-800",children:[e.jsx(ce,{className:"w-3.5 h-3.5 mr-1.5"}),"Create Server"]})]}),e.jsxs("div",{className:"space-y-2",children:[k.map(t=>{var r,d,l;return e.jsx("div",{className:"bg-white border border-gray-200 rounded-md shadow-xs cursor-pointer hover:border-gray-300",onClick:()=>{p(t),x("view")},children:e.jsxs("div",{className:"px-6 h-20 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:`h-2 w-2 rounded-full ${t.state==="running"?"bg-green-400":t.state==="updating"?"bg-yellow-400":t.state==="starting"?"bg-blue-400":"bg-gray-300"}`})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:t.name}),e.jsxs("div",{className:"text-xs text-gray-500",children:[(r=t.user)==null?void 0:r.username," • ",(d=t.unit)==null?void 0:d.shortName,((l=t.node)==null?void 0:l.region)&&` • ${t.node.region.name}`]})]})]}),e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsxs("div",{className:"flex space-x-4",children:[e.jsxs("span",{className:"text-xs text-gray-500",children:[e.jsxs("span",{className:"font-medium text-gray-900",children:[t.cpuPercent,"%"]})," CPU"]}),e.jsxs("span",{className:"text-xs text-gray-500",children:[e.jsxs("span",{className:"font-medium text-gray-900",children:[t.memoryMiB," MiB"]})," RAM"]}),e.jsxs("span",{className:"text-xs text-gray-500",children:[e.jsxs("span",{className:"font-medium text-gray-900",children:[t.diskMiB," MiB"]})," Disk"]})]}),e.jsx(ue,{className:"w-4 h-4 text-gray-400"})]})]})},t.id)}),k.length===0&&e.jsx("div",{className:"text-center py-6 bg-white rounded-md border border-gray-200",children:e.jsx("p",{className:"text-xs text-gray-500",children:"No servers found"})})]})]}),y==="create"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{onClick:()=>{x("list"),p(null)},className:"flex items-center text-gray-600 hover:bg-gray-100 p-2 cursor-pointer rounded-md transition hover:text-gray-900",children:e.jsx(D,{className:"w-4 h-4"})}),e.jsx("div",{children:e.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"Create Server"})})]}),ae()]}),y==="edit"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{onClick:()=>{x("view"),g(null)},className:"flex items-center text-gray-600 hover:bg-gray-100 p-2 cursor-pointer rounded-md transition hover:text-gray-900",children:e.jsx(D,{className:"w-4 h-4"})}),e.jsx("div",{children:e.jsxs("h1",{className:"text-lg font-semibold text-gray-900",children:["Edit Server: ",a==null?void 0:a.name]})})]}),ne()]}),y==="view"&&ie()]})})]})};export{be as default};
